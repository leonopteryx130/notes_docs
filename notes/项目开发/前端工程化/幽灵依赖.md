# 幽灵依赖

### 定义
幽灵依赖（Phantom dependencies）指的是没有显示声明在 ```package.json``` 中的依赖，但是却被直接引用到项目里的包。

### 产生原因
因为npm v3以上和yarn采用[扁平化结构](./npm发展.md)管理项目的依赖包资源，所以假设项目里安装了A包，A包又依赖了B包，那么B包也会被安装到项目中，即使B包并没有被直接引用到项目中。

**举个开发场景的例子**：

>假如小坤安装一个依赖包 A1,而 A1 依赖 B1,然后小黑在接手项目时需要用到 B1,发现直接可以用就没有去主动安装 B1,某一天小坤将依赖包 A1 升级为 A2,而 A2 需要依赖升级版的 B2 或者不再需要依赖 B1,这时候启动项目问题就出现了,小黑的代码可能就出 B1 版本不兼容或者 B1 依赖丢失问题!